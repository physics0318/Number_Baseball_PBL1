# 전산응용수학 PBL1 - 숫자야구
## 숫자야구 규칙
다음은 숫자야구의 규칙이다.
- 동국이는 0-9사이의 수 중에서 4개를 중복없이 선택하여 배열한다.

- 수학이는 동국이가 생성한 수열을 예측하여 질문한다. 

- 동국이는 수학이의 질문을 받아서 평가하게 된다. 숫자와 위치를 모두 맞춘 개수만큼 스트라이크, 숫자를 맞췄지만 위치가 틀린 개수만큼 볼을 계산한다. 동국이는 스트라이크와 볼의 정보를 수학이에게 제공한다.

## 목표
큰 목표는 수학이를 프로그램으로 대체하는 것이다. 이 프로그램은 다음 2가지의 세부 목표를 바탕으로 만들어진다. 
- 적은 횟수로 정답을 맞춰야한다.
- 적은 시간으로 다음 질문을 판단해야한다.

## 사전 준비와 문제해결
문제를 해결하기 위해 우선 숫자야구 게임 자체를 프로그래밍으로 구현하였다. 크게 세 종류의 프로그램을 구현하였다.
1. 동국이와 수학이 사이의 정보 전달을 매개하는 프로그램
2. 동국이의 역할을 수행하는 모듈
3. 수학이의 역할을 수행하는 모듈

먼저 1번과 2번의 구현을 사전 준비과정으로 보고, 3번의 구현을 문제해결 과정으로 분류하였다. 

### 동국이와 수학이 사이의 정보 전달을 매개하는 프로그램(Baseballgame.py)
숫자야구 게임이 이뤄지는 경기장이다. 코드로 만들어낸 2개의 프로그램 동국이와 수학이 모듈을 임포트하여 서로 문답을 시키는 기능을 한다.

### 동국이의 역할을 수행하는 모듈(Baseball동국.py)
동국이는 문제를 내는 프로그램이다. 이 안에는 Dongguk이라는 클래스가 구현되어있다. Dongguk의 인스턴스가 생성될 때 0~9중 중복되지 않고 순서에 상관없이 4개의 숫자를 뽑아 리스트의 형태로 self.number라는 이름으로 저장한다. 

self.evaluate은 리스트 하나를 입력으로 받아서 strike와 ball을 계산한다. 이 각각의 값들은 self.strike, self.ball에 저장되며, 다음 질문을 받으면 값이 바뀐다.

### 수학이의 역할을 수행하는 모듈1(Baseball수학.py)
문제를 해결하기 위해 가장 먼저 생각해본 해결 방법이다. 기본적으로 랜덤하게 답을 던지는 기능이 self.randguess라는 함수에 구현되어있다. 
더 효율적인 정답을 찾기 위해 조금씩 살을 붙일 예정이고 다음과 같은 기능이 추가되었다. 

1. 이전에 했던 질문은 self.pastguess에 저장하여 기억해두었다가 나중에 동일한 질문을 하는 것을 방지한다. 

2. 던진 질문에 대한 답 (예: 1strike 2ball 등등)을 받아서 [질문, 스트라이크, 볼]의 형태로 self.history에 저장하여 나중 질문에 참고한다.(미완성)

3. 처음 두 질문은 숫자가 겹치지 않도록 한다.(미완성)

### 수학이의 역할을 수행하는 모듈2(Baseball수학2.py)
아이디어를 설명하기 위해 하나의 예시를 들어보자. 만약 [1,2,3,4]가 정답이라고 하고 여기에 질문이 [3,4,5,6]으로 던져진다면 0strike 2ball이 출력될 것이다. 그런데 이는 [3,4,5,6]이 정답이고 [1,2,3,4]가 질문으로 던져진 상황과 동일하다. 스트라이크와 볼은 두 리스트 사이의 대칭적인 관계를 만들어낸다고 생각할 수 있는 것이다. 

Baseball수학2는 이 성질을 이용하게된다. 어떤 질문(예:[3,4,5,6])을 하고 그에대한 답변(0strike 2ball)을 받게 되면 [3,4,5,6]과 0strike 2ball관계에 있는 모든 리스트들을 떠올리는 것이다. 즉, 모든 가능한 답변을 떠올린다.이후 그 다음 질문에 대한 답변을 받게 되면 이전에 떠올렸던 정답의 후보들에서 겹치는 것들만 남기고 나머지는 제거하는 방식으로 알고리즘이 이루어진다.

이 성질에 따라 생각해낸 아이디어는 상당한 노가다성을 필요로 하지만 이론상 가장 적은  질문 횟수로 정확하게 답을 알아낼 수 있다. 대략 11~13번의 질문이면 정답을 찾아냈다.

### 수학이의 역할을 수행하는 모듈(Baseball수학3)
처음에 [0,1,2,3]부터 질문하기 시작하여 한 칸씩 옆으로 옮겨서 질문하게 된다. [0,1,2,3] 다음에는 [1,2,3,4] 다음에는 [2,3,4,5]...[9,0,1,2]까지 총 10번의 질문을 하게 된다. 각 구간마다의 결과(strike, ball)를 받아서 어느 구간에 어느 숫자가 쓰일 지 예측한다.(어떻게 예측할지는 미완성)

### (번외.)머신러닝을 이용한 문제해결
동국이와 수학이의 문답과정 데이터를 모아서 RNN을 통해 학습을 시켜준다. 컴퓨터는 학습된 데이터를 바탕으로 문제를 풀기 위한 최적의 가중치 행렬들을 만들게 될 것이다. (발표일 전까지 되면 하고 아님말고...)

